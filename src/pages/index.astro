---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import SocialIcons from '../components/SocialIcons.astro';
import ProjectCard from '../components/ProjectCard.astro';

const projects = (await getCollection('projects')).filter((p) => p.id.endsWith('.mdx'));
const currentProject = projects.find((p) => p.slug === 'full-electrical-stack-auv5');
const featuredTop = projects
  .filter((p) => p.data.featured)
  .slice()
  .sort((a, b) => (a.data.featuredRank ?? 9999) - (b.data.featuredRank ?? 9999))
  .slice(0, 3);
---

<BaseLayout
  title="Kenneth Wong Cun Wi | Aspiring Robotics Engineer"
  description="Kenneth Wong Cun Wi —  Embedded Systems, Robotics, and Engineering"
  canonicalPath="/"
  activeNav="home"
>
  <section class="hero">
    <div class="container hero-grid">
      <div class="hero-photo" aria-label="Portrait">
        <img
          src="/assets/images/profile.jpg"
          alt="Portrait of Kenneth Wong Cun Wi"
          loading="lazy"
        />
      </div>

      <div class="hero-copy">
        <p class="intro-name"><strong>Kenneth Wong Cun Wi</strong></p>
        <p class="hero-quote">I chase the moment when first principles develop into something that finally works.</p>

        <div class="hero-writeup">
          <p>
            It all started when my first robot came alive. Over 10 years later, I’m still diving deeper into the abyss of mechanical, electrical, and software domains, and the world that exists in between.
          </p>
          <p>Feel free to explore this brain cache of mine!</p>
        </div>

        <div class="motive-box" aria-label="Current motive">
          <p class="motive-title">If there is a problem to solve, I want in</p>
          <p class="motive-body">
            I'm currently fascinated by optimisation efforts in embedded systems, such as using AI SoCs, and any autonomous robotics developments. I'm actively seeking internship opportunities in these areas!
          </p>
          <p class="motive-meta">Immediate Internship Availability Period: 11 May 2026 - 06 Dec 2026</p>
        </div>

        <p class="social-caption">Contact me via my socials below:</p>
        <div class="icon-row" aria-label="Social links">
          <SocialIcons />
          <a class="button primary resume-inline" href="/docs/resume.pdf" target="_blank" rel="noopener">Resume (PDF) ↗</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="focus">
    <div class="container">
      <div class="section-head center">
        <h2>What I'm focused on right now</h2>
      </div>

      <div class="grid cards focus-cards">
        <article class="card li-card focus-role">
          <div class="li-head">
            <div class="li-logo dark" aria-hidden="true">
              <img src="/assets/images/logo-bbas.png" alt="" loading="lazy" />
            </div>
            <div class="li-head-text">
              <p class="li-title">Electrical Lead</p>
              <p class="li-subtitle muted">Bumblebee Autonomous Systems</p>
              <p class="li-dates muted">Nov 2025 – Present</p>
            </div>
          </div>
          <p class="li-desc muted">Leading the Electrical team to develop the electrical systems of every autonomous vehicle for both local and international competitions.</p>

          <p class="li-desc muted">
            Collaborating with Mechanical and Software subteams (~50 members) to drive overall vehicle developments.
          </p>

          <p class="li-desc muted">
              Overseeing developments and maintenance with high standards (in hardware design, firmware development, systems testing & integration) to ensure reliability and robustness.
          </p>

          <div class="card-actions">
            <a class="text-link" href="/about/#work-experiences">More Details →</a>
          </div>
        </article>

        {currentProject ? (
          <ProjectCard entry={currentProject} kicker="Current Project" />
        ) : (
          <article class="card">
            <div class="card-top">
              <h3>Current Project</h3>
              <p class="muted">(Add the project entry to show the full project card here.)</p>
            </div>
          </article>
        )}

        <article class="card li-card focus-edu">
          <div class="li-head">
            <div class="li-logo" aria-hidden="true">
              <img src="/assets/images/logo-nus.jpg" alt="" loading="lazy" />
            </div>
            <div class="li-head-text">
              <p class="li-title">National University of Singapore</p>
            </div>
          </div>

          <p class="li-subtitle muted">Bachelor of Engineering - BE, Computer Engineering</p>

          <p class="li-dates muted">2024 – 2028</p>
          <div class="li-lines muted">
            <p>Specialisation in Robotics</p>
            <p>Specialisation in Advanced Electronics</p>
            <p>Minor in Artificial Intelligence</p>
          </div>

          <div class="li-block">
            <p class="li-label">Activities and societies:</p>
            <ul class="bullets">
              <li>NUS Bumblebee Autonomous Systems (NUS BBAS)</li>
              <li>IEEE-Eta Kappa Nu (HKN) Honor Society</li>
              <li>Current undergraduate assistant for CG2111A (Engineering Principles and Practices II) in AY25/26</li>
            </ul>
          </div>

          <div class="card-actions">
            <a class="text-link" href="/about/#education">More Details →</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section class="section" id="featured-projects">
    <div class="container">
      <div class="section-head center">
        <h2>Featured Projects</h2>
      </div>

      <div class="grid cards">
        {featuredTop.length ? (
          featuredTop.map((p) => <ProjectCard entry={p} />)
        ) : (
          <article class="card">
            <div class="card-top">
              <h3>No featured projects yet</h3>
              <p class="muted">Set <span class="mono">featured: true</span> in any project’s frontmatter.</p>
            </div>
          </article>
        )}
      </div>
    </div>
  </section>

</BaseLayout>
