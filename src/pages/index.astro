---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import SocialIcons from '../components/SocialIcons.astro';
import ProjectCard from '../components/ProjectCard.astro';

const projects = await getCollection('projects');
const currentProject = projects.find((p) => p.slug === 'full-electrical-stack-auv5');
const featuredTop = projects
  .filter((p) => p.data.featured)
  .slice()
  .sort((a, b) => (a.data.featuredRank ?? 9999) - (b.data.featuredRank ?? 9999))
  .slice(0, 3);
---

<BaseLayout
  title="Kenneth Wong Cun Wi | Computer Engineering (Robotics)"
  description="Kenneth Wong Cun Wi — electrical-to-software integration, robotics, embedded systems, and practical problem-solving."
  canonicalPath="/"
  activeNav="home"
>
  <section class="hero">
    <div class="container hero-grid">
      <div class="hero-photo" aria-label="Portrait">
        <img
          src="/assets/images/profile.jpg"
          alt="Portrait of Kenneth Wong Cun Wi"
          loading="lazy"
        />
      </div>

      <div class="hero-copy">
        <p class="intro-name"><strong>Kenneth Wong Cun Wi</strong></p>
        <p class="hero-quote">I chase the moment when first principles develops into something that finally works.</p>

        <div class="hero-writeup">
          <p>
            When my innovations and iterations take shape to resolve real-world problems, that is what gives my work meaning.
          </p>
        </div>

        <div class="motive-box" aria-label="Current motive">
          <p class="motive-title">If there is a problem to solve, I want in</p>
          <p class="motive-body">
            I am always open to any robotics development projects, embedded and physical AI/ML systems.
          </p>
          <p class="motive-meta">Immediate internship Availability Period: 11 May 2026 - 06 Dec 2026</p>
        </div>

        <p class="social-caption">Contact me via my socials below:</p>
        <div class="icon-row" aria-label="Social links">
          <SocialIcons />
        </div>

        <p class="hero-cache">Feel free to explore this brain cache of mine as i document my present and past for the future!</p>
      </div>
    </div>
  </section>

  <section class="section" id="focus">
    <div class="container">
      <div class="section-head center">
        <h2>What I'm focused on right now</h2>
      </div>

      <div class="grid cards">
        <article class="card">
          <div class="card-top">
            <h3>My current role</h3>
            <p class="muted">
              Electrical Lead, Robotics Engineer, Bumblebee Autonomous Systems. Leads the Electrical team to develop the electrical systems of every vehicle for both local and international competitions.
            </p>
          </div>
          <div class="card-actions">
            <a class="text-link" href="/about/#work-experiences">More Details →</a>
          </div>
        </article>

        <article class="card">
          <div class="card-top">
            <h3>Education</h3>
            <p class="muted">
              National University of Singapore. Bachelor of Engineering - BE, Computer Engineering, Specialisation in Robotics, Specialisation in Advanced Electronics, Minor in AI.
            </p>
          </div>
          <div class="card-actions">
            <a class="text-link" href="/about/#education">More Details →</a>
          </div>
        </article>

        {currentProject ? (
          <ProjectCard entry={currentProject} kicker="Current Project" />
        ) : (
          <article class="card">
            <div class="card-top">
              <h3>Current Project</h3>
              <p class="muted">(Add the project entry to show the full project card here.)</p>
            </div>
          </article>
        )}
      </div>
    </div>
  </section>

  <section class="section" id="featured-projects">
    <div class="container">
      <div class="section-head center">
        <h2>Featured Projects</h2>
      </div>

      <div class="grid cards">
        {featuredTop.length ? (
          featuredTop.map((p) => <ProjectCard entry={p} />)
        ) : (
          <article class="card">
            <div class="card-top">
              <h3>No featured projects yet</h3>
              <p class="muted">Set <span class="mono">featured: true</span> in any project’s frontmatter.</p>
            </div>
          </article>
        )}
      </div>
    </div>
  </section>

</BaseLayout>
